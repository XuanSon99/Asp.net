@model BTL_Nhom10.Models.Cart

@{
    ViewBag.Title = "ShowToCart";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@{
    <div id="wrap-inner">
        <div id="list-cart">
            <h3>Giỏ hàng</h3>
                @if (Model != null)
                {
                    <table class="table table-responsive text-center">
                        <tr class="active">
                            <td width="11.111%">Ảnh mô tả</td>
                            <td width="22.222%">Tên sản phẩm</td>
                            <td width="22.222%">Số lượng</td>
                            <td width="16.6665%">Đơn giá</td>
                            <td width="16.6665%">Thành tiền</td>
                            <td width="11.112%">Xóa</td>
                        </tr>
                        @foreach (var item in Model.Items)
                        {
                            double total = Double.Parse(item.shopping_product.DonGia.ToString()) * Double.Parse(item.shopping_quantity.ToString());
                            <tr>
                                <td><img height="100px" class="img-responsive" src="image/iMac-21inch.jpg"></td>
                                <td>@Html.DisplayFor(model => item.shopping_product.TenSP)</td>
                                <td>
                                    @using (Html.BeginForm("UpdateCart", "ShoppingCart"))
                                    {
                                        <div class="form-group row">
                                            <input type="hidden" value="@item.shopping_product.MaSP" name="ID_SP" />
                                            <div class="col-md-6">
                                                <input class="form-control" type="number" value="@item.shopping_quantity" name="quantity">
                                            </div>
                                            <div class="col-md-6">
                                                <input type="submit" class="btn btn-warning" value="Cập nhật" />
                                            </div>
                                        </div>
                                    }




                                </td>
                                <td><span class="price">@Html.DisplayFor(model => item.shopping_product.DonGia)</span></td>
                                <td><span class="price">@total</span></td>
                                <td><a href="/ShoppingCart/Remove_Cart/@item.shopping_product.MaSP.Trim()">❌</a></td>
                            </tr>
        }

                    </table>
                }
                <div class="row" id="total-price">
                    <div class="col-12">
                        Tổng: <span class="total-price">@Model.Total_Money()</span>
                    </div>
                    <div class="col-12">
                        <a href="" class="my-btn btn" onclick="deleteAllProduct()">Xóa giỏ hàng</a>
                        <a href="" class="my-btn btn">Cập nhật</a>
                        <a href="" class="my-btn btn">Mua tiếp</a>
                    </div>
                </div>
            <div id="confirm">
                <h3>Xác nhận mua hàng</h3>
                <form method="post">
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input required type="email" class="form-control" id="email" name="email">
                    </div>
                    <div class="form-group">
                        <label for="name">Họ tên:</label>
                        <input required type="text" class="form-control" id="name" name="name">
                    </div>
                    <div class="form-group">
                        <label for="phone">Số điện thoại:</label>
                        <input required type="number" class="form-control" id="phone" name="phone">
                    </div>
                    <div class="form-group">
                        <label for="add">Địa chỉ:</label>
                        <input required type="text" class="form-control" id="add" name="add">
                    </div>
                    <div class="form-group text-right">
                        <button type="submit" class="btn my-btn btn-default">Thực hiện đặt hàng</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
}

